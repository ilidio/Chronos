{
  "name": "chronos-history",
  "displayName": "Chronos History",
  "description": "Comprehensive Chronos and Git History tracking for VS Code.",
  "version": "0.0.1",
  "publisher": "IldioMartins",
  "license": "MIT",
  "icon": "resources/icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/ilidio/Chronos"
  },
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": [
    "SCM Providers",
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished",
    "onCommand:chronos.showHistory",
    "onCommand:chronos.showHistoryForSelection",
    "onCommand:chronos.showProjectHistory",
    "onCommand:chronos.showRecentChanges",
    "onCommand:chronos.putLabel",
    "onCommand:chronos.gitHistoryForSelection"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "configuration": {
      "type": "object",
      "title": "Chronos",
      "properties": {
        "chronos.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable or disable Chronos history tracking."
        },
        "chronos.maxDays": {
          "type": "number",
          "default": 30,
          "description": "Number of days to keep history."
        },
        "chronos.maxSizeMB": {
          "type": "number",
          "default": 500,
          "description": "Maximum size of history storage in MB."
        },
        "chronos.trackSelectionHistory": {
          "type": "boolean",
          "default": true,
          "description": "Enable tracking history for text selections."
        },
        "chronos.exclude": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "**/node_modules/**",
            "**/dist/**",
            "**/.git/**"
          ],
          "description": "Glob patterns to exclude from history."
        },
        "chronos.saveInProjectFolder": {
          "type": "boolean",
          "default": false,
          "description": "If enabled, Chronos history will be stored in a .history folder in the project root instead of internal extension storage."
        },
        "gitHistory.selection.maxCommits": {
          "type": "number",
          "default": 100,
          "description": "Maximum number of commits to show in selection history."
        },
        "gitHistory.selection.followRenames": {
          "type": "boolean",
          "default": true,
          "description": "Follow file renames when tracing history."
        },
        "gitHistory.selection.dateFormat": {
          "type": "string",
          "default": "yyyy-MM-dd HH:mm",
          "description": "Date format for git history (date-fns format)."
        }
      }
    },
    "commands": [
      {
        "command": "chronos.showHistory",
        "title": "Show History",
        "category": "Chronos"
      },
      {
        "command": "chronos.showHistoryForSelection",
        "title": "Show History for Selection",
        "category": "Chronos"
      },
      {
        "command": "chronos.showProjectHistory",
        "title": "Show Project History",
        "category": "Chronos"
      },
      {
        "command": "chronos.showRecentChanges",
        "title": "Show Recent Changes",
        "category": "Chronos"
      },
      {
        "command": "chronos.putLabel",
        "title": "Put Label...",
        "category": "Chronos"
      },
      {
        "command": "chronos.restoreSnapshot",
        "title": "Restore",
        "category": "Chronos"
      },
      {
        "command": "chronos.gitHistoryForSelection",
        "title": "Git History for Selection",
        "category": "Git"
      },
      {
        "command": "chronos.compareToCurrent",
        "title": "Compare with Current",
        "category": "Chronos"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "submenu": "chronos/context",
          "group": "1_modification"
        }
      ],
      "explorer/context": [
        {
          "submenu": "chronos/context",
          "group": "7_modification"
        }
      ],
      "chronos/context": [
        {
          "command": "chronos.showHistory",
          "group": "1_local"
        },
        {
          "command": "chronos.showHistoryForSelection",
          "group": "1_local",
          "when": "editorHasSelection"
        },
        {
          "command": "chronos.gitHistoryForSelection",
          "group": "2_git",
          "when": "editorHasSelection"
        },
        {
          "command": "chronos.showProjectHistory",
          "group": "3_global"
        },
        {
          "command": "chronos.showRecentChanges",
          "group": "3_global"
        },
        {
          "command": "chronos.putLabel",
          "group": "4_actions"
        }
      ]
    },
    "submenus": [
      {
        "id": "chronos/context",
        "label": "Chronos"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./"
  },
  "devDependencies": {
    "@types/node": "^18.0.0",
    "@types/uuid": "^9.0.0",
    "@types/vscode": "^1.80.0",
    "@vscode/vsce": "^2.19.0",
    "typescript": "^5.1.0"
  },
  "dependencies": {
    "date-fns": "^2.30.0",
    "glob": "^10.0.0",
    "minimatch": "^9.0.0",
    "simple-git": "^3.19.0",
    "uuid": "^9.0.0"
  }
}
